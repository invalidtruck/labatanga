{"version":3,"sources":["../../src/pages/provider/prov-request/prov-request.module.ts","../../src/pages/provider/prov-request/prov-request.ts","../../src/pages/provider/request-detail/request-detail.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProvRequestPage } from './prov-request';\n\n@NgModule({\n  declarations: [\n    ProvRequestPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProvRequestPage),\n  ],\n})\nexport class ProvRequestPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/provider/prov-request/prov-request.module.ts","import { RequestDetailPage } from '../request-detail/request-detail';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { Observable } from 'rxjs/Observable';\nimport { Component } from '@angular/core';\nimport { ModalController, IonicPage, NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the ProvRequestPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-prov-request',\n  templateUrl: 'prov-request.html',\n})\nexport class ProvRequestPage {\n  Contracts: Observable<any>\n  uid: String\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public modalCtrl: ModalController,\n    private afDB: AngularFireDatabase) {\n    this.uid = navParams.data;\n    this.Contracts = this.afDB.list(\"Providers/\" + this.uid + \"/Contracts\",\n      ref => ref.orderByChild(\"status\").equalTo(\"A\"))\n      .snapshotChanges()\n      .map(items => {\n        return items.map(com => {\n          return {\n            key: com.key,\n            user: this.afDB.object(\"Users/\" + com.payload.val().UserID).valueChanges(),\n            Description: com.payload.val().Description,\n            timestamp: com.payload.val().timestamp,\n            time: com.payload.val().time\n          }\n        });\n      })\n  }\n\n  onAccept(key: string) {\n    var contract = this.afDB.object(\"Providers/\" + this.uid + \"/Contracts/\" + key)\n    contract.update({\n      status: \"D\",\n      composeview: \"D_true\",\n      viewed: true\n    })\n  }\n  onReview(key: String) {  \n    var contract = this.afDB.object(\"Providers/\" + this.uid + \"/Contracts/\" + key)\n    contract.update({ \n      composeview: \"A_true\",\n      viewed: true\n    })\n      let profileModal = this.modalCtrl.create(RequestDetailPage, { uid: this.uid, key:key });\n      profileModal.present(); \n  }\n  onCancel(key: string) {\n    var contract = this.afDB.object(\"Providers/\" + this.uid + \"/Contracts/\" + key)\n    contract.update({\n      status: \"C\",\n      composeview: \"C_true\",\n      viewed: true\n    })\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ProvRequestPage');\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/provider/prov-request/prov-request.ts","import { ObserverProvider } from './../../../Providers/observer/observer';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { Observable } from 'rxjs/Observable';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the RequestDetailPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n// @IonicPage()\n@Component({\n  selector: 'page-request-detail',\n  templateUrl: 'request-detail.html',\n})\nexport class RequestDetailPage {\n  public uid: string\n  public request: any\n  public user: any\n  constructor(public navCtrl: NavController, public afDB: AngularFireDatabase, public subs: ObserverProvider,\n    public navParams: NavParams) {\n    this.uid = navParams.get(\"uid\")\n    let key = navParams.get(\"key\")\n    let subContracts = this.afDB.object(\"Providers/\" + this.uid + \"/Contracts/\" + key)\n      .snapshotChanges().subscribe(s => {\n        this.request = s.payload.val()\n        this.getUser(s.payload.val().UserID)\n      })\n\n    this.subs.add(subContracts)\n  }\n  private getUser(UserID: string) {\n    let subuser = this.afDB.object(\"Users/\" + UserID).snapshotChanges()\n      .subscribe(s => {\n        this.user = s.payload.val()\n      })\n    this.subs.add(subuser)\n  }\n\n  getUserName(user: any) {\n    if (user != null)\n      return user.FirstName + \" \" + user.LastName + \" \" + user.LastName2\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RequestDetailPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/provider/request-detail/request-detail.ts"],"sourceRoot":""}